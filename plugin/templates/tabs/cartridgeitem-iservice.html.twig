<div class="container">
    <div class="center my-3">
        <a class="btn btn-primary me-2" href="#" id="import-button">
            <span onclick="ajaxCall('{{ plugin_url_base }}/ajax/duplicateCartridgeItem.php?cartridgeItemId={{ cartridgeItem.id }}',
                    '{{ _t('Are you sure you want to duplicate this cartridge item?') }}',
                    function(message) {
                        message = JSON.parse(message);
                        if (message.success === true) {
                            window.location.href = '{{ glpi_url_base }}/front/cartridgeitem.form.php?id=' + message.newCartridgeItemId;
                        } else {
                            alert('{{ _t('An error occurred while duplicating cartridge item.') }}');
                        }
                    });
                    ">{{ _t('Duplicate Cartridge Item') }}</span>
        </a>
    </div>

    <form method="post" action="{{ plugin_url_base }}/front/cartridgeitem_printermodels.form.php">
        <div class="row my-3">
            <div class="col-12">
                <h3>{{ _t('Compatible printer models') }}</h3>
            </div>
        </div>

        <div class="row">
            {% for pm in allPrinterModels %}
                <div class="col-6 col-sm-3 col-lg-2 mb-2">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="pm_{{ pm.id }}" name="printermodels[]" value="{{ pm.id }}" {% if pm.id in selectedPrinterModelIds %}checked{% endif %}>
                        <label class="form-check-label" for="pm_{{ pm.id }}">{{ pm.name }}</label>
                    </div>
                </div>
            {% endfor %}
        </div>

        <div class="row center my-3">
            <div class="col-12">
                <input type="hidden" name="cartridgeitems_id" value="{{ cartridgeItem.id }}" />
                <input type="hidden" name="_glpi_csrf_token" value="{{ csrf_token() }}" />
                <button type="submit" class="btn btn-primary">{{ _t('Save') }}</button>
            </div>
        </div>
    </form>
</div>
